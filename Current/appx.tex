\appendix

\section{Computing the deformation complex}\label{sec: hol trans}

In this appendix we prove Proposition~\ref{prop: trans j}. 
That is, we compute the holomorphically translation invariant component of $H_{\rm loc}(\sG_d)$, 
the Lie algebra cohomology of the local Lie algebra $\sG_d = \Omega^{0,*}_c \tensor \fg$ on~$\CC^d$. 

\subsection{Holomorphic translation invariance}

We have already discussed the local cohomology cochain complex $\cloc^*(\sG_d)$ in Section~\ref{sec:cloc}.
To pick out the subcomplex of holomorphically translation invariant elements,
we introduce yet another dg Lie algebra $\CC^{d}_{\rm hol}$ whose invariants are precisely this subcomplex.

\begin{dfn}
Let $\CC^{d}_{\rm hol} = \CC^{2d} \oplus \CC^d[1]$ be generated by the partial derivatives $\partial/\partial z_i$ and $\partial/\partial \zbar_i$ in degree 0 and by elements $\{\Bar{\eta}_i\}_{i=1}^d$ in degree $-1$.
Equip it with a trivial bracket and with a differential that $\eta_i$ to $\frac{\partial}{\partial \zbar_i}$.
\end{dfn}

There is a canonical inclusion of dg Lie algebras
\[
\CC\{\partial / \partial z_1, \ldots, \partial / \partial z_d\} \hookrightarrow \CC^{d}_{\rm hol}
\]
so that any representation ``forgets'' down to an action of holomorphic infinitesimal translations.
But a dg representation of this abelian dg Lie algebra has an action of all the partial derivatives,
but where the actions of the $\partial/\partial \zbar_i$ are trivial homotopically.
In this sense $\CC^{d}_{\rm hol}$ encodes the idea of infinitesimal translations that are purely holomorphic up to homotopy.

Directly from these definitions one can verify the following.

\begin{lem}
The canonical inclusion of enveloping algebras
\[
\CC[\partial / \partial z_1, \ldots, \partial / \partial z_d] \hookrightarrow U(\CC^{d}_{\rm hol})
\]
that is a quasi-isomorphism.
\end{lem}

In other words, $U(\CC^{d}_{\rm hol})$ is quasi-isomorphic to the algebra of constant coefficient holomorphic differential operators on~$\CC^d$. 

\subsection{Language to phrase the main result}

We now turn to the main objects of interest here.

\begin{dfn}
Let $\cloc^*(\sG_d)^{\CC^d_{\rm hol}}$ denote the subcomplex in $\cloc^*(\sG_d)$ consisting of elements strictly invariant under $\CC^d_{\rm hol}$.
Let
\[
\cloc^*(\sG_d)^{U(d) \ltimes \CC^d_{\rm hol}}
\]
denote the subcomplex of elements that are invariant under both translation by $\CC^d_{\rm hol}$ and rotation by the unitary group~$U(d)$.
\end{dfn}

We are interested in the map $\fj$, from Section~\ref{sec: hol trans main}, for the affine space $\CC^d$.
We will use this map to completely characterize the degree one $U(d)$-invariant, holomorphically translation invariant local functionals on~$\sG_d$. 

The degree one result will follow from a stronger, general result on the cochain level.
To formulate it, we introduce some notation.

\subsubsection{De Rham forms for dg Lie algebras}

Let $\cL$ denote an arbitrary dg Lie algebra. 
Interpret the dg commutative algebra given by the Chevalley-Eilenberg cochains $\clie^*(\cL)$ as functions on a formal moduli space~$B \cL$:
\[
\sO(B \cL) = \clie^*(\cL) .
\]
In the same line of thought, define the $k$-forms on $B\cL$~by
\[
\Omega^k(B \cL) := \clie^*(\cL ; \Sym^k(\cL^\vee [-1])) .
\]
Here, $\cL^\vee$ denotes the coadjoint representation of~$\cL$. 

\begin{eg}
A simple example gives evidence that this interpretation is not so far-fetched.
Consider the case $\cL = \CC^n [-1]$, a purely abelian Lie algebra.
Then
\[
\sO(B \cL) = \clie^*(\cL) = \CC[[t_1,\ldots,t_n]]
\]
with generators $t_i$ in degree 0.
(These generators are the coordinates on the formal $n$-disk.)
Similarly, the de Rham forms are
\begin{align*}
\Omega^k(B \cL) 
&= \sO(B \cL)  \otimes \Lambda^k(\cL^\vee) \\
 &=\CC[[t_1,\ldots, t_n]] \tensor \Lambda^k[\d t_1, \cdots, \d t_n],
\end{align*}
where we use $\d t_i$ to denote a basis for the coadjoint representation~$\cL^\vee$.
(We use $\Lambda^k$ denote the $k$th exterior power of the vector space spanned by those generators.)
Everything is in cohomological degree zero.
Manifestly everything agrees with the usual constructions of algebraic de Rham forms.
\end{eg}


Let $\partial : \Omega^{k}(B\cL) \to \Omega^{k+1}(B\cL)$ denote the de Rham operator for $B\cL$. 
The space of {\em closed} $k$-forms is defined by the totalization of the double complex
\[
\Omega^{k}_{cl}(B \cL) = {\rm Tot}\left( \Omega^k(B\cL) \xto{\partial} \Omega^{k+1}(B \cL)[-1] \to \cdots \right).
\]
The case where $k=0$ is the usual de Rham complex, which we will denote by~$DR(B\cL)$.
%Note that there is a canonical truncation map $\Omega^{k}_{cl}(B \cL) \to \Omega^{k}(B \cL)$ that provides the ``underlying'' $k$-form of any closed $k$-form.

The constant functions on $B\fg$ can be appended to obtain a complex
\[
DR_{\rm aug}(B\cL) = {\rm Tot}\left( \CC[1] \to \Omega^0(B\cL) \xto{\partial} \Omega^{1}(B \cL)[-1] \to \cdots \right),
\]
which is acyclic.
(Consider the spectral sequence for the underlying double complex where one uses the de Rham differential first. The Poincar\'e lemma ensures the cohomology vanishes on this page.)
The inclusion map $\Omega^{k}_{cl}(B \cL) \to DR_{\rm aug}(B\cL)$ has quotient given by the opposite truncation
\[
 {\rm Tot}\left( \CC[1] \to \Omega^0(B\cL) \xto{\partial} \cdots \xto{\partial} \Omega^{k-1}(B \cL)\right).
\]
We denote it by~$\tau_{< k} DR_{\rm aug}(B \cL)$. 
The de Rham differential $\partial: \Omega^{k-1}(B \cL) \to \Omega^{k}(B \cL)$ determines a cochain map
\[
\tau_{< k} DR_{\rm aug}(B \cL) \xto{\partial} \Omega^{k}_{cl}(B \cL),
\]
whose cone is the augmented de Rham complex.
This observation implies that the map determines a quasi-isomorphism from the truncation to the closed $k$-forms.

\subsubsection{Improving $\fj$}

Before stating the main result of this appendix, we note that there is a natural enhancement of the cochain map
\[
\fj : \Sym^{d+1} (\fg^*)^{\fg} [-1] \to \cloc^*(\sG_d)
\]
from Section~\ref{sec: hol trans main} to a cochain map
\beqn\label{fj1}
\fj : \Omega^{d+1}_{cl} (B \fg) [d] \to \cloc^*(\sG_d)  
\eeqn
that we now describe. 

Because $\Omega^d(B \fg) \cong \clie^*(\fg, \Lambda^{d} \fg^\vee)$, 
a $d$-form $\eta$ of cohomological degree $m$ determines a linear map
\[
\eta: \Lambda^d \fg \to \clie^m(\fg).
\]
We can extend this map over $\Omega^{0,*}$ to obtain a linear map
\[
\widetilde{\eta}: \Lambda^d \sG_d \to \clie^*(\sG_d),
\]
and an element of $\clie^*(\sG_d)$ can be evaluated on an element of $\sG_d$ to obtain a de Rham form.
Hence, we define the element $\widetilde{\fj}(\eta)$ in $\clie^*(\sG_d)$ by 
\[
\widetilde{\fj} (\eta) (\alpha) = \widetilde{\eta}(\partial \alpha \wedge \cdots \wedge \partial \alpha) (\alpha) .
\]
We extend $\widetilde{\fj}$ to forms $\Omega^k(B\fg)$ with $k < d$ as the zero map.

Direct computation then shows the following.

\begin{lem}
The construction above determines a cochain map $\widetilde{\fj}: \tau_{<d+1} DR_{\rm aug}(B\fg) \to \clie^*(\sG_d)$. \owen{I probably have the shift wrong ...} 
\end{lem}

As this truncated de Rham complex $\tau_{<d+1} DR_{\rm aug}(B\fg)$ is quasi-isomorphic to  $\Omega^d_{cl}(B\fg)$, 
we obtain the existence of the desired map~(\ref{fj1}),
although we do not provide an explicit formula.


\owen{I commented out a lot below.}

%Consider the map of cochain complexes
%\[
%\CC[1] \to \Omega^*(B \fg)
%\]
%where we are viewing $\CC$ as sitting inside $\Omega^0(B \fg) = \clie^*(\fg)$ as the constant functions. 
%The totalization of this map of complexes is acyclic. 
%
%Let $\Omega^{\leq d}(B \fg)$ denote the cokernel of the injective map of cochain complexes
%\[
%\Omega^{d+1}_{cl} (B \fg) [-d-1] \hookrightarrow {\rm Tot}\left(\CC[1] \to \Omega^*(B \fg)\right)  .
%\]
%Notice, by acyclicity of the target of this map, the de Rham differential induces a quasi-isomorphism
%\[
%\partial : \Omega^{\leq d}(B \fg) \xto{\simeq} \Omega^{d+1}_{cl}(B \fg) .
%\] 
%Notice that on the formal disk $\fg = \CC^n[-1]$, this quasi-ismorphism implies the standard fact that every closed $(d+1)$-form can be written as the de Rham differential applied to a $d$-form. 

%The map we want (\ref{fj1}) is induced from a map defined on this quasi-isomorphic complex
%\[
%\widetilde{\fj} : \Omega^{\leq d}(B \fg) \to \cloc^*(\sG_d) .
%\] 
%This map is zero on the graded pieces $\Omega^k (B \fg)$ for $k < d$. 
%Given a $d$-form, $\eta \in \Omega^d(B \fg)$ we define the local functional $\widetilde{\fj}(\eta)$ by 
%\[
%\widetilde{\fj} (\eta) (\alpha) = \eta (\partial \alpha \wedge \cdots \wedge \partial \alpha) (\alpha) .
%\]
%Here, $\eta (\partial \alpha \wedge \cdots \partial \alpha)$ denotes the pairing of $\Wedge^d \fg^\vee$ with the $d$th exterior power of $\Omega^{1,*}(X) \tensor \fg$ which results in an element of $\Omega^{d,*} \tensor \clie^*(\fg)$. 
%\owen{I'm not sure this makes sense as written: you're ignoring all the stuff that comes from the $\clie^*(\fg)$ direction. Why should $\eta$ have the form you're asserting?}
%We then use the remaining Lie algebra factors of $\eta$ to pair with $\Omega^{0,*}(X) \tensor \fg$. 
%The result is an element in $\Omega^{d,*}(X)$, and by our usual conventions, our local functional only remembers the top component $\Omega^{d,d}(X)$. 
%\owen{Do you mean we integrate over $X$ or that we just drop all other degrees?}
%
%Note that if the $d$-form $\eta$ is exact, given by the de Rham differential of a $(d-1)$-form, then the functional $\widetilde{\eta}$ is identically zero since we quotient out by total derivatives in our definition of local functionals. 
%\owen{No, we don't. We work with the de Rham complex of the Lagrangian densities.}
%Thus, we see that $\widetilde{\fj}$ descends, along the de Rham differential $\partial$, to a cochain map (\ref{fj1}) as desired. 

\subsection{The main result}

We now state the main result.

\begin{prop}\label{prop: local def}
The map $\fj$ factors through the subcomplex of invariants under rotation and holomorphic translation:
\beqn
\fj : \Omega^{d+1}_{cl}(B \fg) [d] \to \cloc^*(\sG_d)^{U(d) \ltimes \CC^d_{\rm hol}}.
\eeqn
In particular, if $\fg$ is an ordinary Lie algebra (i.e., concentrated in degree zero), then we obtain an isomorphism
\[
H^1(\fj) : \Sym^{d+1}(\fg^\vee)^\fg \xto{\cong} H^1  \left(\cloc^*(\sG_d)\right)^{U(d) \ltimes \CC^d_{\rm hol}}.
\] 
\end{prop}

Note that this result contains Proposition~\ref{prop: trans j}.

In brief, the proof involves two central ideas.
The first is that the translation-invariant local functionals ought to be built from translation-invariant differential operators and translation-invariant measures,
and such functionals are thus pinned down by their behavior at one point.
The second is that rotation invariance then drastically cuts down the remaining possibilities.
Indeed, as the proposition indicates, the only freedom is concentrated in the dependence on the Lie algebra $\fg$ and not on the spatial directions along~$\CC^d$.

We start by ignoring the differentials and simply figure out the graded subspaces of invariant elements.
Note that for a complex $V$, we use $V^\#$ to denote the underlying graded vector space.

\begin{lem}
The subspace $\cloc^\#(\sG_d)^{\CC^d}$ of elements invariant under translation along $\CC^d$ is isomorphic to 
\[
(\Omega^\#(\CC^d))^{\CC^d}[d] \otimes \cred^\#(\fg[[z_1,\ldots,z_d, \zbar_1,\ldots, \zbar_d, \d\zbar_1,\ldots, \d\zbar_n]]).
\]
%where the graded Lie algebra $\fg[[z_1,\ldots,z_d, \zbar_1,\ldots, \zbar_n, \d\zbar_1,\ldots, \d\zbar_d]]$ has differential~$\dbar$.
\end{lem}

Note the overall downward shift by degree~$d$.
The translation-invariant differential forms are
\[
\CC[\d z_1,\ldots, \d z_d, \d \zbar_1,\ldots, \d \zbar_d].
\] 
The graded Lie algebra underlies the dg Lie algebra of Dolbeault forms on the formal $d$-dimensional disk with values in~$\fg$,
which we interpret at the fiber at the origin of the jet bundle of~$\sG_d$.

%Somewhat abusively, we are using the $z_i$ and $\zbar_i$ for both coordinates on $\CC^d$ and in the jet direction.

\begin{proof}
Here we are just noting a simple fact: 
for any trivial bundle on $\CC^d$, 
translation-invariant sections are thus determined by their value at a single point,
which we can take to be the origin.

Each bundle $\Lambda^k T_\CC^* \to \CC^d$, whose sections are complex-valued $k$-forms, admits a natural trivialization by the frame arising from the choice of linear coordinates. 
For instance, the complexified cotangent bundle $T^*_\CC \to \CC^d$ has the frame $\{\d z_1,\ldots,\d z_d, \d \zbar_1,\ldots,\d \zbar_d\}$; for other $k$, take wedge powers of that frame. 
The bundle $\fg \times \CC^d \to \CC^d$ is likewise trivial,
and hence the jet bundle inherits a trivialization.
The trivialization is explicitly given by using the linear coordinate system arising from identifying the manifold with the vector space $\CC^d$;
it gives a natural basis for differential operators and hence for jets.

Putting these observations together, 
the fiber at the origin of the jet bundle for $\sG_d$ can be seen as Dolbeault forms on the formal $d$-dimensional disk with values in $\fg$.
As $\cloc^*$ is a version of reduced Lie algebra cochains, we obtain the claim.
\end{proof}

We would now like to trivialize homotopically the action of the antiholomorphic derivatives.
On the formal $d$-dimensional disk, there is a natural trivialization (by contraction with the vector fields $\partial_{\zbar_i}$),
which also makes sense on $\CC^d$ globally.
\owen{I'm writing quickly ... need to check that. It now doesn't sound quite right.}
The strict invariants for the extended Lie algebra $\CC^d_{\rm hol}$ are thus expressions that have no dependence on the antiholomorphic coordinates~$\zbar_i$.

\begin{lem}
The underlying graded subspace of the $\CC^d_{\rm hol}$-invariants $\cloc^*(\sG_d)^{\CC^d_{\rm hol}}$ is isomorphic to 
\[
\CC[\d z_1,\ldots, \d z_d][d] \otimes \cred^\#(\fg[[z_1,\ldots,z_n]]),
\]
the reduced Lie algebra cochains of the Lie algebra~$\fg[[z_1,\ldots,z_n]]$.
\end{lem}

Here $\CC[\d z_1,\ldots, \d z_d][d]$ forms the translation-invariant {\em holomorphic} differential forms, 
shifted down by degree~$d$.

\owen{I'm doing something a little subtle here. I'm imagining that we look at the strict invariants for the action of the dg Lie algebra on the dg vector space, and then we forget the differential. This is different than forgetting the differential and then taking the invariants ...}

%In practice the proof involves a number of quasi-isomorphisms and a spectral sequence,
%so it is convenient to isolate some of these results as lemmas.
%We begin by describing the situation on a formal $d$-dimensional disk with formal coordinates $z_1,\ldots, z_d$.
%In this case $\sG_d$ has the form $\fg[[z_1,\ldots,z_n]]$, and 
%\beqn
%\cred^*(\fg[[z_1,\ldots,z_n]]) = \left(\Sym^{\geq 1} \left(\fg^\vee [z_1^\vee,\ldots,z_d^\vee][-1] \right), \d_{\fg}\right),
%\eeqn
%where $z_i^\vee$ denotes the dual variable to $z_i$. 
%A cocycle in this complex encodes the jet of a Lagrangian on the formal disk.
%To get the jet of a Lagrangian density, we pair such a cocycle with a top form, namely~$\d^d z$,
%but we want to consider such Lagrangian densities up to total derivatives,
%i.e., modulo integration by parts.
%This relation is cleanly encoded as the relative (derived) tensor product
%\[
%\CC \, \d^d z \tensor^\LL_{\CC\left[\frac{\partial}{\partial z_i}\right]} \cred^*(\fg[[z_1,\ldots,z_d]]).
%\]
%\owen{Should we bother to justify this?}
Thanks to Schur-Weyl duality, there is then a simple answer for which such elements are $U(d)$-invariant.

\begin{lem}
The $U(d) \ltimes \CC^d_{hol}$-invariant subspace $\cloc^\#(\sG_d)^{U(d) \ltimes \CC^d}$
is canonically isomorphic to the reduced de Rham forms
\[
\Omega^\sharp_{\rm red}(B\fg) = \sO_{red}(B \fg) \oplus \Omega^{1} (B \fg)[-1] \oplus \cdots \oplus \Omega^{d}(B \fg)[-d]. 
\]
\end{lem}

Here we mean that there is no de Rham differential, 
but the $k$-forms are put in their ``usual'' place 
(i.e., in our motivating example, the $k$-forms would sit in degree $k$).
By $\sO_{red}(B \fg)$ we mean that we quotient out the copy $\Sym^0(\fg^\vee)$ of the constants from~$\clie^*(\fg)$.

\begin{proof}
Sitting inside of $U(d)$ is its center, a copy of $U(1)$ as multiples of the identity.
This group equips the $\CC^d_{hol}$-invariant subcomplex with a weight grading, as follows.
The group $U(d)$ acts in the defining way on $\CC^d$,
so each coordinate $z_i$ has weight $1$ and so $\d z_i$ also has weight 1.
Each $k$-form has weight $k$; for instance, the volume element $\d^d z$ has weight~$d$.
Let $\Lambda^k[\d z_1,\ldots,\d z_d]$ denote the vector space of translation-invariant holomorphic $k$-forms.
Every element in this space has weight~$k$.

On the other hand, $z_i^\vee$ has weight~$-1$. 
Let 
\[
\Sym \left(\fg^\vee [z_1^\vee,\ldots,z_d^\vee][-1] \right)_{(-k)}
\]
denote the subspace of elements with weight~$-k$.
This space is spanned by symmetric words built from monomials of the form $x \otimes (z_1^\vee)^{i_1} \cdots (z_d^\vee)^{i_d}$, where $x \in \fg^\vee$,
and the sum of the $z^\vee$-degrees over all the monomials must add to~$k$.
\owen{Is that too cryptic?}

Our complex is built from both kinds of elements.
To have total weight zero, a monomial in these terms $z_i^\vee$ and $\d z_i$ must have an equal number of $z_i^\vee$ and $\d z_i$.
In other words, the weight zero elements of our complex decomposes as a direct sum
\beqn
\bigoplus_{k = 0}^n \Lambda^k[\d z_1,\ldots,\d z_d] \otimes \Sym \left(\fg^\vee [z_1^\vee,\ldots,z_d^\vee][-1] \right)_{(-k)} .
\eeqn
But we wish to go a step further and pick out the invariants under the action of the entire group~$U(d)$.

Recall that Schur-Weyl duality \owen{reference?} implies that if $\CC^d$ is the fundamental $U(d)$-representation, 
the $U(d)$-invariants of the $d$th tensor power $(\CC^d)^{\otimes d}$ is one-dimensional and given by $\Lambda^d \CC^d$. 
\owen{I don't understand what follows.}
Thus, when we pass to the $U(d)$-invariants, only the unique totally antisymmetric tensor involving $\frac{\partial}{\partial z_i}$ and $z_i^\vee$ survives. 
Thus, for each $k$, we have
\begin{align}
\label{U(d) invariants}
\left(\Sym^k(\CC^d[1]) \tensor \right. & \left. \left(\bigoplus_{i \leq d-k} \Sym^{i} \left(\fg^\vee [z_1^\vee,\ldots,z_d^\vee][-1] \right) \right) \d^d z\right) \cong \\ & \wedge^{k}\left(\frac{\partial}{\partial z_i}\right) \wedge \wedge^{d-k}\left(z_i^\vee\right) \clie^*\left(\fg , \Sym^{d-k}(\fg^\vee)\right) \d^d z .
\end{align}
Here, $\wedge^{k}\left(\frac{\partial}{\partial z_i}\right) \wedge \wedge^{d-k}\left(z_i^\vee\right)$ is just a copy of the determinant $U(d)$-representation, but we'd like to keep track of the appearances of the partial derivatives and $z_i^\vee$. 
Note that for degree reasons, we must have $k \leq d$. 
When $k = 0$ this complex is the (shifted) space of functions modulo constants on the formal moduli space $B\fg$, $\sO_{red}(B\fg)[d]$. 
When $k \geq 1$ this the (shifted) space of $k$-forms on the formal moduli space $B\fg$, which we write as $\Omega^{k}(B \fg)[d+k]$.
Thus, we see that before turning on the differential on the next page, our complex looks like
\[
\label{bg def complex1}
\xymatrix{
\ul{-2d} & \cdots & \ul{-d-1} & \ul{-d} \\
\sO_{red}(B \fg) & \cdots & \Omega^{d-1} (B \fg) & \Omega^{d}(B \fg) .
}
\]
We've omitted the extra factors for simplicity. 
\end{proof}

\begin{proof}[Proof of Proposition~\ref{prop: local def}]

We now turn on the differential $\d_{\CC^d}$ coming from the Lie algebra homology of $\CC^d = \CC\left\{\frac{\partial}{\partial z_i}\right\}$ with values in the above module. 
Since this Lie algebra is abelian the differential is completely determined by how the operators $\frac{\partial}{\partial z_i}$ act.
We can understand this action explicitly as follows.
Note that $\frac{\partial}{\partial z_i} z_j = \delta_{ij}$, thus we may as well think of $z_i^\vee$ as the element $\frac{\partial}{\partial z_i}$. 
Consider the subspace corresponding to $k=d$ in Equation (\ref{U(d) invariants}):
\beqn
\frac{\partial}{\partial z_1} \cdots \frac{\partial}{\partial z_d} \cred^*(\fg) \d^d z .
\eeqn 
Then, if $x \in \fg^\vee [-1] \subset \cred^*(\fg)$ we observe that
\beqn
\d_{\CC^d} \left(\frac{\partial}{\partial z_1} \cdots \frac{\partial}{\partial z_d} \tensor f \tensor \d^d z \right) = \det (\partial_i, z_j^\vee) \tensor 1 \tensor x \tensor \d^d z \in  \wedge^{d-1}\left(\frac{\partial}{\partial z_i}\right) \wedge \CC \{z_i^\vee\} \clie^*\left(\fg , \fg^\vee \right) \d^d z.
\eeqn
This follows from the fact that the action of $\frac{\partial}{\partial z_i}$ on $x = x \tensor 1 \in \fg^\vee \tensor \CC[z_i^\vee]$ is given by
\beqn
\frac{\partial}{\partial z_i} \cdot (x \tensor 1) = 1 \tensor x \tensor z_i^\vee \in \clie^*(\fg , \fg^\vee) z_i^\vee .
\eeqn
By the Leibniz rule we can extend this to get the formula for general elements $f \in \cred^*(\fg)$. 
We find that getting rid of all the factors of $z_i$ we recover precisely the de Rham differential 
\beqn
\xymatrix{ 
\cred^*(\fg) [2d] \ar@{=}[d] \ar[r]^-{\d_{\CC^d}} & \clie^*(\fg , \fg^\vee) [2d-1] \ar@{=}[d] \\
\sO_{red}(B\fg) \ar[r]^-{\partial} & \Omega^1(B \fg) .
}
\eeqn
A similar argument shows that $\d_{\CC^d}$ agrees with the de Rham differential on each $\Omega^k(B \fg)$. 


We conclude that the $E_2$ page of this spectral sequence is quasi-isomorphic to the following truncated de Rham complex.
\[
\label{bg def complex2}
\xymatrix{
\ul{-2d} & \ul{-2d+1} & \cdots & \ul{-d-1} & \ul{-d} \\
\sO_{red}(B \fg) \ar[r]^-{\partial} & \Omega^1(B \fg) \ar[r] & \cdots \ar[r] & \Omega^{d-1} (B \fg) \ar[r]^-{\partial} & \Omega^{d}(B \fg) .
}
\]
This complex is quasi-isomorphic, through the de Rham differential, to $\Omega^{d+1}_{cl}[d]$. 
This completes the proof.
\end{proof}

\section{Normalizing the charge anomaly} \label{sec: feynman}

In this section we conclude the proof of Proposition \ref{prop: bg anomaly} by an explicit calculation of the Feynman diagrams controlling the charge anomaly for the $\beta\gamma$ system on $\CC^d$. 
We have already identified the algebraic piece of the anomaly with the $(d+1)$st component of the Chern character of the representation. 
The only thing left to compute is the analytic factor. 
We can therefore assume that we have an abelian Lie algebra, and simply compute the weight of the wheel $\Gamma$ with $(d+1)$-vertices where the external edges are labeled by elements $\alpha \in \Omega_c^{0,*}(\CC^d)$.
After choosing a numeration of the internal edges $e = 0,\ldots d$, we can label the edges $e = 0,\ldots, d-1$ by the analytic propagator by $P^{an}_{\epsilon<L}$ and the label the edge $e = d$ by the analytic heat kernel $K_\epsilon^{an}$. 
We recall the precise form of these kernels in the proof below. 
The vertices are labeled by the trivalent functional $I^{an} (\alpha, \beta,\gamma) = \int \alpha \wedge \beta \wedge \gamma$ (there is no Lie bracket since the algebra is abelian). 
Denote the resulting weight, which is a functional on the space $\Omega^{0,*}_c(\CC^d)$, by
\[
W^{an}_{\Gamma}(P_{\epsilon < L}, K_\epsilon, I^{an}) .
\]
The main computation left to do is the $\epsilon \to 0, L \to 0$ limit of this weight.

For more details on the notations, such as the explicit forms of the heat kernels and propagators, we use in the proof below we refer the reader to \cite{BWhol}, where the general prescription for quantizing holomorphic theories has been written down. 

\begin{lem} 
As a functional on the abelian dg Lie algebra $\Omega_c^{0,*}(\CC^d)$, one has
\[
\lim_{L \to 0} \lim_{\epsilon \to 0} W^{an}_{\Gamma}(P^{an}_{\epsilon < L}, K^{an}_\epsilon, I^{an})(\alpha^{(0)},\ldots, \alpha^{(d)}) = \frac{1}{(2 \pi i)^d} \frac{1}{(d+1)!} \int \alpha^{(0)} \partial \alpha^{(1)} \cdots \partial \alpha^{(d)}  .
\]
\end{lem}

\begin{proof}

We enumerate the vertices by integers $a = 0,\ldots, d$. 
Label the coordinate at the $i$th vertex by $z^{(a)} = (z_1^{(a)}, \ldots, z_d^{(a)})$. 
The incoming edges of the wheel will be denoted by homogeneous Dolbeault forms 
\[
\alpha^{(a)} = \sum_{J} A^{(a)}_J \d \zbar_J^{(a)} \in \Omega_c^{0,*}(\CC^d) .
\]
where the sum is over the multiindex $J = (j_1,\ldots, j_k)$ where $j_a = 1,\ldots, d$ and $(0,k)$ is the homogenous Dolbeault form type. 
For instance, if $\alpha$ is a $(0,2)$ form we would write
\[
\alpha = \sum_{j_1 < j_2} A_{(j_1,j_2)} \d \zbar_{j_1} \d\zbar_{j_2} .
\]
Denote by $W^{an}_L$ weight $\epsilon \to 0$ limit of the analytic weight of the wheel with $(d+1)$ vertices.
The $L\to 0$ limit of $W^{an}_L$ is the local functional representing the one-loop anomaly $\Theta$. 

The weight has the form
\[
W^{an}_L(\alpha^{(0)},\ldots,\alpha^{(d)}) = \lim_{\epsilon \to 0} \int_{\CC^{d(d+1)}} \left(\alpha^{(0)}(z^{(0)}) \cdots \alpha^{(d)}(z^{(d)}) \right) K^{an}_\epsilon(z^{(0)},z^{(d)}) \prod_{a =1}^d P^{an}_{\epsilon,L} (z^{(a-1)}, z^{(a)}) .
\]
We introduce coordinates
\begin{align*}
w^{(0)} & = z^{(0)} \\
w^{(a)} & = z^{(a)} - z^{(a-1)} \;\;\; 1 \leq a \leq d .
\end{align*}
The heat kernel and propagator part of the integral is of the form
\[
\begin{array}{ccl}
\displaystyle
K^{an}_\epsilon(w^{(0)},w^{(d)}) \prod_{a =1}^d P^{an}_{\epsilon,L} (w^{(a-1)}, w^{(a)}) & = & \displaystyle \frac{1}{(2 \pi i \epsilon)^d} \int_{t_1,\ldots,t_d = \epsilon}^L \frac{\d t_1 \cdots \d t_d}{(2 \pi i t_1)^d \cdots (2 \pi i t_d)^d} \frac{1}{t_1\cdots t_d}  \\ & & \displaystyle \times \d^d w^{(0)} \prod_{i=1}^d (\d \Bar{w}^{(1)}_i + \cdots + \d \Bar{w}^{(d)}_i) \\ & \times &  \displaystyle \prod_{a = 1}^d \d^d w^{(a)} \left(\sum_{i = 1}^d \Bar{w}_i^{(a)} \prod_{j \ne i} \d \Bar{w}_{j}^{(a)}\right) e^{-\sum_{a,b = 1}^d M_{a b} w^{(a)} \cdot \Bar{w}^{(b)}}
\end{array}
\]
Here, $M_{ab}$ is the $d \times d$ square matrix satisfying
\[
\sum_{a,b = 1}^d M_{a b} w^{(a)} \cdot \Bar{w}^{(b)} = |\sum_{a = 1}^d w^{(a)} |^2 / \epsilon + \sum_{a = 1}^d |w^{(a)}|^2 / t_a .
\]
Note that
\[
\prod_{i=1}^d (\d \Bar{w}^{(1)}_i + \cdots + \d \Bar{w}^{(d)}_i) \prod_{a = 1}^d \left(\sum_{i = 1}^d \Bar{w}_i^{(a)} \prod_{j \ne i} \d \Bar{w}_{j}^{(a)}\right) = \left( \sum_{i_1,\ldots i_d} \epsilon_{i_1\cdots i_d} \prod_{a=1}^d \Bar{w}^{(a)}_{i_a}\right) \prod_{a=1}^d \d^d \Bar{w}^{(a)} .
\]
In particular, only the $\d w_i^{(0)}$ components of $\alpha^{(0)} \cdots \alpha^{(d)}$ can contribute to the weight.

For some compactly supported function $\Phi$ we can write the weight as
\[
\begin{array}{ccl}
W (\alpha^{(0)}, \ldots, \alpha^{(d)}) & = & \lim_{\epsilon \to 0} \displaystyle \int_{\CC^{d(d+1)}} \left(\prod_{a = 0}^{d} \d^d w^{(a)} \d^d \Bar{w}^{(a)}\right) \Phi \\ & \times & \displaystyle \frac{1}{(2 \pi i \epsilon)^d} \int_{t_1,\ldots,t_d = \epsilon}^L \frac{\d t_1 \cdots \d t_d}{(2 \pi i t_1)^d \cdots (2 \pi i t_d)^d} \frac{1}{t_1\cdots t_d} \\ & \times & \displaystyle \sum_{i_1,\ldots, i_d} \epsilon_{i_1\cdots i_d} \Bar{w}_{i_1}^{(1)} \cdots \Bar{w}_{i_d}^{(d)} e^{-\sum_{a,b = 1}^d M_{a b} w^{(a)} \cdot \Bar{w}^{(b)}} 
\end{array}
\]

Applying Wick's lemma in the variables $w^{(1)}, \ldots, w^{(d)}$, together with some elementary analytic bounds, we find that the weight above becomes to the following integral over $\CC^d$
\[
f(L) \int_{w^{(0)} \in \CC^d}  \d^d w^{(0)} \d^d \Bar{w}^{(0)} \sum_{i_1,\ldots, i_d} \epsilon_{i_1\cdots i_d}  
\left(\frac{\partial}{\partial w_{i_1}^{(1)}} \cdots \frac{\partial}{\partial w_{i_d}^{(d)}} \Phi\right)|_{w^{(1)}=\cdots=w^{(d)} = 0} 
\]
where
\[
f(L) = \frac{1}{(2 \pi i)^d} \lim_{\epsilon \to 0} \int_{t_1,\ldots,t_d = \epsilon}^L \frac{\epsilon}{(\epsilon + t_1 + \cdots + t_d)^{d+1}} \d^d t .
\]
In fact, $f(L)$ is independent of $L$ and is equal to $\frac{1}{(d+1)!}$ after direct computation. 
Finally, plugging in the forms $\alpha^{(0)}, \ldots, \alpha^{(d)}$, we observe that the integral over $w^{(0)} \in \CC^d$ simplifies to
\[
\frac{1}{(2 \pi i)^d} \frac{1}{(d+1)!} \int_{\CC^d} \alpha^{(0)} \partial \alpha^{(1)} \cdots\partial \alpha^{(d)}
\]
as desired.
\end{proof}